[gd_scene load_steps=29 format=3]

[ext_resource type="TileSet" path="res://assets/tiles/iso_tileset.tres" id="1"]
[ext_resource type="PackedScene" path="res://scenes/Player.tscn" id="2"]
[ext_resource type="Script" path="res://scripts/World/WorldSetup.cs" id="3"]
[ext_resource type="Script" path="res://scripts/Spawn/EnemyPool.cs" id="4"]
[ext_resource type="Script" path="res://scripts/Spawn/SpawnManager.cs" id="5"]
[ext_resource type="Script" path="res://scripts/Progression/PlayerProgression.cs" id="6"]
[ext_resource type="Script" path="res://scripts/Progression/PerkManager.cs" id="7"]
[ext_resource type="PackedScene" path="res://scenes/ui/HUD.tscn" id="8"]
[ext_resource type="PackedScene" path="res://scenes/ui/LevelUpScreen.tscn" id="9"]
[ext_resource type="Script" path="res://scripts/World/GameBootstrap.cs" id="10"]
[ext_resource type="Script" path="res://scripts/Score/ScoreManager.cs" id="11"]
[ext_resource type="PackedScene" path="res://scenes/ui/GameOverScreen.tscn" id="12"]
[ext_resource type="Script" path="res://scripts/World/DayNightCycle.cs" id="13"]
[ext_resource type="Script" path="res://scripts/World/Foyer.cs" id="14"]
[ext_resource type="Script" path="res://scripts/Base/Inventory.cs" id="15"]
[ext_resource type="Script" path="res://scripts/Base/CraftManager.cs" id="16"]
[ext_resource type="Script" path="res://scripts/UI/CraftPanel.cs" id="17"]
[ext_resource type="Script" path="res://scripts/Base/StructureManager.cs" id="18"]
[ext_resource type="Script" path="res://scripts/Base/StructurePlacer.cs" id="19"]
[ext_resource type="Script" path="res://scripts/World/FogOfWar.cs" id="20"]
[ext_resource type="Script" path="res://scripts/Meta/SouvenirManager.cs" id="21"]
[ext_resource type="Script" path="res://scripts/UI/SouvenirPopup.cs" id="22"]
[ext_resource type="Script" path="res://scripts/UI/JournalScreen.cs" id="23"]
[ext_resource type="Script" path="res://scripts/Infrastructure/RunTracker.cs" id="24"]
[ext_resource type="Script" path="res://scripts/UI/DebugOverlay.cs" id="25"]

[sub_resource type="Gradient" id="Gradient_light"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_light"]
gradient = SubResource("Gradient_light")
width = 256
height = 256
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.5, 0)

[node name="Main" type="Node2D"]
script = ExtResource("3")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(1, 0.95, 0.85, 1)

[node name="Ground" type="TileMapLayer" parent="."]
y_sort_enabled = true
tile_set = ExtResource("1")

[node name="Foyer" type="Node2D" parent="."]
position = Vector2(0, 0)
script = ExtResource("14")

[node name="Visual" type="Polygon2D" parent="Foyer"]
color = Color(1, 0.8, 0.3, 1)
polygon = PackedVector2Array(-12, 0, 0, -6, 12, 0, 0, 6)

[node name="Light" type="PointLight2D" parent="Foyer"]
color = Color(1, 0.75, 0.3, 1)
energy = 0.6
texture = SubResource("GradientTexture2D_light")
texture_scale = 1.0

[node name="Player" parent="." instance=ExtResource("2")]

[node name="Camera" type="Camera2D" parent="Player"]
position_smoothing_enabled = true
position_smoothing_speed = 5.0
zoom = Vector2(2, 2)

[node name="PlayerProgression" type="Node" parent="Player"]
script = ExtResource("6")

[node name="Inventory" type="Node" parent="Player"]
script = ExtResource("15")

[node name="EnemyPool" type="Node" parent="."]
script = ExtResource("4")

[node name="ResourceContainer" type="Node2D" parent="."]

[node name="PoiContainer" type="Node2D" parent="."]

[node name="StructureContainer" type="Node2D" parent="."]

[node name="EnemyContainer" type="Node2D" parent="."]

[node name="SpawnManager" type="Node2D" parent="."]
script = ExtResource("5")

[node name="PerkManager" type="Node" parent="."]
script = ExtResource("7")

[node name="ScoreManager" type="Node" parent="."]
script = ExtResource("11")

[node name="CraftManager" type="Node" parent="."]
script = ExtResource("16")

[node name="DayNightCycle" type="Node" parent="."]
script = ExtResource("13")

[node name="HUD" parent="." instance=ExtResource("8")]

[node name="LevelUpScreen" parent="." instance=ExtResource("9")]

[node name="GameOverScreen" parent="." instance=ExtResource("12")]

[node name="CraftPanel" type="CanvasLayer" parent="."]
script = ExtResource("17")

[node name="StructureManager" type="Node" parent="."]
script = ExtResource("18")

[node name="StructurePlacer" type="Node2D" parent="."]
script = ExtResource("19")

[node name="FogOfWar" type="Node2D" parent="."]
script = ExtResource("20")

[node name="SouvenirManager" type="Node" parent="."]
script = ExtResource("21")

[node name="SouvenirPopup" type="CanvasLayer" parent="."]
script = ExtResource("22")

[node name="JournalScreen" type="CanvasLayer" parent="."]
script = ExtResource("23")

[node name="RunTracker" type="Node" parent="."]
script = ExtResource("24")

[node name="DebugOverlay" type="CanvasLayer" parent="."]
script = ExtResource("25")

[node name="GameBootstrap" type="Node" parent="."]
script = ExtResource("10")
